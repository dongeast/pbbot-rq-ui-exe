(function(e){function t(t){for(var o,i,n=t[0],l=t[1],r=t[2],u=0,d=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);c&&c(t);while(d.length)d.shift()();return a.push.apply(a,r||[]),_()}function _(){for(var e,t=0;t<a.length;t++){for(var _=a[t],o=!0,n=1;n<_.length;n++){var l=_[n];0!==s[l]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=_[0]))}return e}var o={},s={app:0},a=[];function i(t){if(o[t])return o[t].exports;var _=o[t]={i:t,l:!1,exports:{}};return e[t].call(_.exports,_,_.exports,i),_.l=!0,_.exports}i.m=e,i.c=o,i.d=function(e,t,_){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:_})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var _=Object.create(null);if(i.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(_,o,function(t){return e[t]}.bind(null,o));return _},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var r=0;r<n.length;r++)t(n[r]);var c=l;a.push([0,"chunk-vendors"]),_()})({0:function(e,t,_){e.exports=_("56d7")},"034f":function(e,t,_){"use strict";_("85ec")},"56d7":function(e,t,_){"use strict";_.r(t);_("e260"),_("e6cf"),_("cca6"),_("a79d");var o=_("2b0e"),s=function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",{attrs:{id:"app"}},[_("router-view")],1)},a=[],i=(_("034f"),_("2877")),n={},l=Object(i["a"])(n,s,a,!1,null,null,null),r=l.exports,c=_("8c4f"),u=function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("div",[_("div",[_("div",{staticStyle:{display:"flex","justify-content":"left","margin-top":"20px"}},[_("el-button",{staticStyle:{"margin-left":"100px"},attrs:{type:"warning",icon:"el-icon-plus"},on:{click:e.addPlugins}},[e._v("添加插件")]),_("i",{staticClass:"el-icon-link",staticStyle:{"font-size":"30px","margin-left":"10px","margin-top":"5px"},on:{click:e.turnToLink}})],1),_("div",{staticClass:"admin-container"},[e._l(e.admins,(function(t,o){return _("el-card",{key:o,staticClass:"admin-card"},[_("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[_("span",[e._v(e._s(t.qqbot_nickname))]),_("span",[e._v("("+e._s(t.qqbot_id)+")")]),_("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(_){return e.deleteAdmin(t)}}})],1),_("div",[_("div",{staticClass:"img-content"},[_("img",{staticClass:"botAvatar-img",attrs:{src:t.qqbot_avatar,alt:t.name,title:t.name}})])]),_("div",{staticClass:"userInfo"},[_("br"),_("div",[e._v(" 机器人状态: "+e._s(t.qqbot_state)+" ")])])])})),_("el-card",{staticClass:"admin-card"},[_("el-button",{staticStyle:{width:"80px",height:"80px","font-size":"30px","margin-left":"10px","margin-top":"50px","margin-bottom":"50px"},attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:function(t){return e.addDia()}}})],1)],2)]),_("el-dialog",{attrs:{title:"🔮插件中心🔮",visible:e.dialogVisible,width:"50%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[_("div",[_("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[_("el-form-item",{attrs:{label:"插件名称"}},[_("el-input",{model:{value:e.pluginName,callback:function(t){e.pluginName=t},expression:"pluginName"}})],1),_("el-form-item",{attrs:{label:"URL地址"}},[_("el-input",{model:{value:e.pluginUrl,callback:function(t){e.pluginUrl=t},expression:"pluginUrl"}})],1),_("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addPlugin()}}},[e._v("确 定")]),_("br"),_("div",{staticStyle:{"font-size":"large"}},[e._v("🎮已安装的插件🎮")]),_("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.tableRowClassName}},[_("el-table-column",{attrs:{prop:"name",label:"名称",width:"180"}}),_("el-table-column",{attrs:{prop:"disabled",label:"是否禁止",width:"180"}}),_("el-table-column",{attrs:{prop:"urls",label:"URL地址"}}),_("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[_("el-button",{attrs:{type:"text",size:"small"},on:{click:function(_){return e.deletePlugin(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)]),_("el-dialog",{attrs:{title:"登陆选择",visible:e.dialogVisibleTwo,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisibleTwo=t}}},[_("div",[_("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.qq}},[_("el-form-item",{attrs:{label:""}},[_("el-switch",{attrs:{"active-text":"扫码登陆","inactive-text":"密码登陆"},model:{value:e.switchValue,callback:function(t){e.switchValue=t},expression:"switchValue"}}),_("el-select",{staticStyle:{width:"150px","margin-left":"20px"},attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return _("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.switchValue?e._e():_("el-form-item",{attrs:{label:"请输入机器人 QQ"}},[_("el-input",{attrs:{placeholder:"填写机器人QQ号"},model:{value:e.qq.qqNumber,callback:function(t){e.$set(e.qq,"qqNumber",t)},expression:"qq.qqNumber"}})],1),e.switchValue?e._e():_("el-form-item",{attrs:{label:"请输入机器人密码"}},[_("el-input",{attrs:{placeholder:"填写账号密码"},model:{value:e.qq.qqPassword,callback:function(t){e.$set(e.qq,"qqPassword",t)},expression:"qq.qqPassword"}})],1),e.switchValue?_("el-form-item",[_("el-col",{attrs:{span:100}},[_("div",{staticClass:"demo-basic--circle"},[_("div",{staticClass:"block"},[_("el-avatar",{attrs:{shape:"square",size:150,src:e.squareUrl}})],1),e._l(e.sizeList,(function(t){return _("div",{key:t,staticClass:"block"},[_("el-avatar",{attrs:{shape:"square",size:t,src:e.squareUrl}})],1)}))],2)])],1):e._e()],1)],1),_("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_("el-button",{on:{click:function(t){return e.destroyBox()}}},[e._v("取 消")]),e.switchValue?e._e():_("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addBot()}}},[e._v("确 定")]),e.switchValue?_("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getCode()}}},[e._v("获取二维码")]):e._e()],1)])],1)},d=[],p=_("9cae"),f=p["a"],b=(_("cccb"),Object(i["a"])(f,u,d,!1,null,null,null)),m=b.exports;o["default"].use(c["a"]);var g=[{path:"/",name:"Home",component:m}],h=new c["a"]({base:"",routes:g}),q=h,E=_("2f62");o["default"].use(E["a"]);var v=new E["a"].Store({state:{},mutations:{},actions:{},modules:{}}),O=_("5c96"),P=_.n(O);_("0fae");o["default"].config.productionTip=!1,o["default"].use(P.a),o["default"].prototype.qqbot_url="http://127.0.0.1:3000",o["default"].prototype.sohu_url="http://pv.sohu.com",new o["default"]({router:q,store:v,render:function(e){return e(r)}}).$mount("#app")},"5ced":function(e,t,_){},"85ec":function(e,t,_){},"9cae":function(module,__webpack_exports__,__webpack_require__){"use strict";var E_VedioHub_pbbot_vue_qqbot_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("3835"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("4fad"),core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_entries_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_8__),axios__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_9__);function sum(arr){return eval(arr.join("+"))}__webpack_exports__["a"]={methods:{tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""},turnToUrl:function(e){window.open(e,"_blank")},turnToLink:function(){window.open("https://github.com/ProtobufBot/pbbot-rq","_blank"),window.open("https://github.com/dongeast/pbbot-rq-ui","_blank")},addPlugins:function(){this.dialogVisible=!0},addBot:function(){var e=this,t={uin:parseInt(this.qq.qqNumber),password:this.qq.qqPassword,device_seed:parseInt(this.qq.qqNumber),client_protocol:this.value};console.log(JSON.stringify(t)),axios__WEBPACK_IMPORTED_MODULE_9___default()({method:"post",url:this.qqbot_url+"/login/password/create",data:JSON.stringify(t),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(t){console.log(t),200===t.status?(null!=t.data.verify_url&&(console.log(t.data.verify_url),e.turnToUrl(t.data.verify_url)),null!=t.data.captcha_url&&(console.log(t.data.captcha_url),e.turnToUrl(t.data.captcha_url)),e.destroyBox(),e.$router.go(0)):console.log("ERROR!重新添加！！！")}))},addDia:function(){this.dialogVisibleTwo=!0},handleClose:function(e){this.destroyBox()},dataRefresh:function(){var e=this;null==this.intervalId&&(this.intervalId=setInterval((function(){e.checkQR()}),3e3))},clear:function(){clearInterval(this.intervalId),this.intervalId=null},checkQR:function(){var e=this,t={sig:this.image_sig};console.log(JSON.stringify(t)),axios__WEBPACK_IMPORTED_MODULE_9___default()({method:"post",url:this.qqbot_url+"/login/qrcode/query",data:JSON.stringify(t),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(t){console.log("checking QRcode ..."),e.image_state=t.data.state,console.log(e.image_state),"confirmed"===e.image_state&&e.destroyBox()}))},getPlugin:function(){var e=this,t={};console.log(JSON.stringify(t)),axios__WEBPACK_IMPORTED_MODULE_9___default()({method:"get",url:this.qqbot_url+"/plugin/list",data:JSON.stringify(t),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(t){for(var _=[],o=0,s=Object.entries(t.data.plugins);o<s.length;o++){var a=Object(E_VedioHub_pbbot_vue_qqbot_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__["a"])(s[o],2),i=a[0],n=a[1];console.log(i,n);var l={name:i,urls:n.urls[0],disabled:""+n.disabled};_.push(l)}e.tableData=_}))},addPlugin:function(){var e=this,t=this,_={name:t.pluginName,plugin:{urls:[t.pluginUrl]}};console.log(JSON.stringify(_)),axios__WEBPACK_IMPORTED_MODULE_9___default()({method:"post",url:this.qqbot_url+"/plugin/save",data:JSON.stringify(_),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(t){console.log(t),e.$router.go(0)}))},deletePlugin:function(e){var t=this,_={name:e.name};console.log(JSON.stringify(_)),axios__WEBPACK_IMPORTED_MODULE_9___default()({method:"post",url:this.qqbot_url+"/plugin/delete",data:JSON.stringify(_),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e),t.$router.go(0)}))},getCode:function(){var e=this;axios__WEBPACK_IMPORTED_MODULE_9___default()({method:"post",url:"/sohu/cityjson?ie=utf-8"}).then((function(t){e.yourIPAddress=t.data.split('"')[3],console.log(e.yourIPAddress)})),console.log(123*sum(this.yourIPAddress.split(".")));var t={device_seed:123*sum(this.yourIPAddress.split(".")),client_protocol:this.value};console.log(JSON.stringify(t)),axios__WEBPACK_IMPORTED_MODULE_9___default()({method:"post",url:this.qqbot_url+"/login/qrcode/create",data:JSON.stringify(t),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(t){e.dataRefresh(),console.log(t),200===t.status?(e.squareUrl=e.image_head+t.data.image,e.image_sig=t.data.sig):console.log("ERROR!重新添加！！！")}))},destroyBox:function(){this.dialogVisible=!1,this.dialogVisibleTwo=!1,this.clear(),this.squareUrl="https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png",this.image_sig=""},deleteAdmin:function(e){var t=this;this.$confirm("将删除机器人"+e.qqbot_id+"，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var _={uin:e.qqbot_id};axios__WEBPACK_IMPORTED_MODULE_9___default()({method:"post",url:t.qqbot_url+"/bot/delete",data:JSON.stringify(_),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){console.log(e),t.$router.go(0)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},created:function(){var e=this;this.getPlugin();var t=this;axios__WEBPACK_IMPORTED_MODULE_9___default()({method:"get",url:this.qqbot_url+"/bot/list",headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(_){console.log(_.data.bots),t.admins=[],e.results=_.data.bots,e.results.forEach((function(e){console.log(e.nick),console.log(e.running),console.log(e.uin);var _={qqbot_id:e.uin,qqbot_avatar:"https://q2.qlogo.cn/headimg_dl?dst_uin="+e.uin+"&spec=100",qqbot_state:e.running,qqbot_nickname:e.nick};t.admins.push(_),console.log(t.admins)}))})),axios__WEBPACK_IMPORTED_MODULE_9___default()({method:"post",url:this.sohu_url+"/cityjson?ie=utf-8"}).then((function(t){e.yourIPAddress=t.data.split('"')[3],console.log(e.yourIPAddress)}))},data:function(){return{pluginName:"",pluginUrl:"",pluginList:[],youIPNumber:1,yourIPAddress:1,squareUrl:"https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png",switchValue:!0,options:[{value:0,label:"IPad"},{value:1,label:"AndroidPhone"},{value:2,label:"AndroidWatch"},{value:3,label:"MacOS"},{value:4,label:"QiDian"}],value:0,admins:[{name:"出错啦QAQ~",qqbot_id:"xxxxxxxxxxx",qqbot_avatar:"http://59.110.229.122:5236/group1/M00/00/00/rBH4LWJj6eqAJ4-fAAV9mZu1w7g294.png",qqbot_state:"出错啦~",qqbot_nickname:"出错啦~",qqbot_url:"出错啦~",remark:"请联系相关负责人~~~"}],results:[{uin:88888888,resp:{captcha_url:"www.captcha.com",message:"message",sms_phone:"sms_phone",state:"state",verify_url:"www.verify.com"}}],keywords:"",allRoles:[],selectRoles:[],image_state:"无二维码",image_sig:"",image_head:"data:image/png;base64,",image_data:"",image_url:"",dialogVisible:!1,dialogVisibleTwo:!1,qq:{qqNumber:null,qqPassword:null},form:{question:"",answer:"",tperson:"",type:""},centerDialogVisible:!1,tableData:[{name:"test",disabled:"false",urls:"www.test.com/apis"}]}}}},cccb:function(e,t,_){"use strict";_("5ced")}});
//# sourceMappingURL=app.163064e3.js.map